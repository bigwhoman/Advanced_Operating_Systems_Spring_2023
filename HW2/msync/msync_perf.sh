gcc ./msync.c -o msync -pg -lpthread
# sudo perf stat -e cache-references,cache-misses,faults,page-faults,dTLB-loads,dTLB-load-misses,dTLB-stores,dTLB-store-misses,iTLB-loads,iTLB-load-misses,tlb_flush.dtlb_thread,tlb_flush.stlb_any,page_walker_loads.itlb_l3,context-switches ./msync
# sudo perf stat -e cache-references,cache-misses,faults,page-faults,dTLB-load-misses,dTLB-loads,dTLB-store-misses,dTLB-stores,iTLB-load-misses,iTLB-loads,mem_uops_retired.stlb_miss_loads,mem_uops_retired.stlb_miss_stores,dtlb_load_misses.miss_causes_a_walk,dtlb_load_misses.stlb_hit,dtlb_load_misses.stlb_hit_2m,dtlb_load_misses.stlb_hit_4k,dtlb_load_misses.walk_completed,dtlb_load_misses.walk_completed_1g,dtlb_load_misses.walk_completed_2m_4m,dtlb_load_misses.walk_completed_4k,dtlb_load_misses.walk_duration,dtlb_store_misses.miss_causes_a_walk,dtlb_store_misses.stlb_hit,dtlb_store_misses.stlb_hit_2m,dtlb_store_misses.stlb_hit_4k,dtlb_store_misses.walk_completed,dtlb_store_misses.walk_completed_1g,dtlb_store_misses.walk_completed_2m_4m,dtlb_store_misses.walk_completed_4k,dtlb_store_misses.walk_duration,itlb.itlb_flush,itlb_misses.miss_causes_a_walk,itlb_misses.stlb_hit,itlb_misses.stlb_hit_2m,itlb_misses.stlb_hit_4k,itlb_misses.walk_completed,itlb_misses.walk_completed_1g,itlb_misses.walk_completed_2m_4m,itlb_misses.walk_completed_4k,itlb_misses.walk_duration,page_walker_loads.dtlb_l1,page_walker_loads.dtlb_l2,page_walker_loads.dtlb_l3,page_walker_loads.dtlb_memory,page_walker_loads.itlb_l1,page_walker_loads.itlb_l2,page_walker_loads.itlb_l3,tlb_flush.dtlb_thread,tlb_flush.stlb_any,hyperv:hyperv_mmu_flush_tlb_others,swiotlb:swiotlb_bounced,tlb:tlb_flush,xen:xen_mmu_flush_tlb_one_user,xen:xen_mmu_flush_tlb_others,context-switches ./msync
sudo perf stat -e cache-references,cache-misses,faults,page-faults,dTLB-load-misses,dTLB-loads,dTLB-store-misses,dTLB-stores,iTLB-load-misses,iTLB-loads,dtlb_load_misses.miss_causes_a_walk,dtlb_load_misses.stlb_hit,dtlb_load_misses.walk_completed,dtlb_load_misses.walk_completed_1g,dtlb_load_misses.walk_completed_2m_4m,dtlb_load_misses.walk_completed_4k,dtlb_store_misses.miss_causes_a_walk,dtlb_store_misses.stlb_hit,dtlb_store_misses.walk_completed,dtlb_store_misses.walk_completed_1g,dtlb_store_misses.walk_completed_2m_4m,dtlb_store_misses.walk_completed_4k,itlb.itlb_flush,itlb_misses.miss_causes_a_walk,itlb_misses.stlb_hit,itlb_misses.walk_completed,itlb_misses.walk_completed_1g,itlb_misses.walk_completed_2m_4m,itlb_misses.walk_completed_4k,tlb_flush.dtlb_thread,tlb_flush.stlb_any,swiotlb:swiotlb_bounced,tlb:tlb_flush,context-switches ./msync